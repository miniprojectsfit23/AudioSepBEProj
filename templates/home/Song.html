{%extends 'home/Base.html'%}
{%block content%}
{%load static%}
<script>
	var wavesurfer = WaveSurfer.create({
		container: '#waveform',
		waveColor: 'violet',
		progressColor: 'purple'
	});
</script>
<link rel="stylesheet" type="text/css" href="{% static 'home/css/login.css' %}">
<!-- Messages Start -->
{% if messages %}
{% for message in messages %}
{% if message.tags == 'success'%}
<script type=text/javascript>toastr.options.positionClass='toast-bottom-right'
	;toastr.{{ message.tags }}('{{ message }}')</script> {% elif message.tags == 'info' %}
<script type=text/javascript>toastr.options.positionClass='toast-bottom-right'
	;toastr.{{ message.tags }}('{{ message }}')</script> {% elif message.tags == 'warning' %}
<script type=text/javascript>toastr.options.positionClass='toast-bottom-right'
	;toastr.{{ message.tags }}('{{ message }}')</script> {% elif message.tags == 'error' %}
<script type=text/javascript>toastr.options.positionClass='toast-bottom-right'
	;toastr.{{ message.tags }}('{{ message }}')</script> {% endif %} {% endfor %} {% endif %} <!-- Messages End -->
<script src="https://unpkg.com/wavesurfer.js"></script>
<div id="waveform">
	<div class="container">
		<div class="row">
			<div class="col-lg-10 col-xl-9 mx-auto">
				<div class="card flex-row my-5 border-0 shadow rounded-3 overflow-hidden">
					<div class="card-body p-4 p-sm-5">
						<h5 class="card-title text-center mb-5 fw-light fs-5 fw-bolder">{{song.name}}</h5>
						<div class="container">
							<div class="row">
								<div class="col" style="border-right:3px solid black;">
									<label for="song" class="d-flex justify-content-center fw-bolder">Source</label>
									<label for="song" class="my-3 d-flex justify-content-center">Original Song</label>
									<audio id="song_source" preload="auto" autobuffer controls
										class="d-flex justify-content-center">
										<source src="/media/{{song.upload}}">

									</audio>
								</div>
								<div class="col">
									<label for="song" class="d-flex justify-content-center fw-bolder">Seperated</label>
									<label for="song" class="my-3 d-flex justify-content-center"><i
											class="fa-solid fa-guitar me-2"></i> Bass: Played in
										{{song.bass}}%
										of the song</label>
									<audio id="song_seperated" preload="auto" autobuffer controls
										class="d-flex justify-content-center">
										<source src="/media/{{path}}/bass.wav">
									</audio>
									<label for="song" class="my-3 d-flex justify-content-center"><i
											class="fa-solid fa-drum me-2"></i> Drums:
										Played in {{song.drums}}% of the song</label>
									<audio id="song_seperated" preload="auto" autobuffer controls
										class="d-flex justify-content-center">
										<source src="/media/{{path}}/drums.wav">
									</audio>
									<label for="song" class="my-3 d-flex justify-content-center"><i
											class="fa-solid fa-microphone-lines me-2"></i> Vocals:
										Played in {{song.vocals}}% of the song</label>
									<audio id="song_seperated" preload="auto" autobuffer controls
										class="d-flex justify-content-center">
										<source src="/media/{{path}}/vocals.wav">
									</audio>
									<label for="song" class="my-3 d-flex justify-content-center"><i
											class="fa-solid fa-keyboard me-2"></i> Piano:
										Played in {{song.piano}}% of the song</label>
									<audio id="song_seperated" preload="auto" autobuffer controls
										class="d-flex justify-content-center">
										<source src="/media/{{path}}/piano.wav">
									</audio>
									<label for="song" class="my-3 d-flex justify-content-center"><i
											class="fa-solid fa-music me-2"></i> Other
										Instruments</label>
									<audio id="song_seperated" preload="auto" autobuffer controls
										class="d-flex justify-content-center">
										<source src="/media/{{path}}/other.wav">
									</audio>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	{%endblock%}